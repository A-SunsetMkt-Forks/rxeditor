{"version":3,"sources":["../../src/shell/ContainerImpl.ts"],"sourcesContent":["import { IShellPane, ID, IDesignerEngine, IDriver, IDriverFactory, RXID_ATTR_NAME, IRect } from \"core/interfaces\";\r\n\r\nexport class ContainerImpl implements IShellPane {\r\n  private dirvers: IDriver[] = []\r\n  \r\n  constructor(\r\n    engine: IDesignerEngine,\r\n    private roolElement: HTMLElement,\r\n    public id: ID,\r\n    private driverFactories: IDriverFactory[]\r\n  ) {\r\n\t\tfor (const dirverFactory of this.driverFactories) {\r\n\t\t\tthis.dirvers.push(dirverFactory(engine.getShell(), roolElement))\r\n\t\t}\r\n  }\r\n  getContainerRect(): IRect | null {\r\n    return this.roolElement.getBoundingClientRect()\r\n  }\r\n\r\n  appendChild(child: HTMLElement): void {\r\n    this.roolElement.append(child)\r\n  }\r\n  contains(child: HTMLElement): boolean {\r\n    return this.roolElement.contains(child)\r\n  }\r\n  removeChild(child: HTMLElement): void {\r\n    if(this.contains(child)){\r\n       this.roolElement.removeChild(child)\r\n    }\r\n  }\r\n  getElement(id: string): HTMLElement | null {\r\n    return this.roolElement.querySelector(`[${RXID_ATTR_NAME}=\"${id}\"]`)\r\n  }\r\n\r\n  getTopRect(nodeId: string): IRect | null {\r\n    return this.getElement(nodeId)?.getBoundingClientRect() || null\r\n  }\r\n  \r\n  destory(): void {\r\n\t\tfor (const driver of this.dirvers) {\r\n\t\t\tdriver.teardown()\r\n\t\t}\r\n\t\tthis.dirvers = []\r\n  }\r\n}"],"names":["RXID_ATTR_NAME","ContainerImpl","getContainerRect","roolElement","getBoundingClientRect","appendChild","child","append","contains","removeChild","getElement","id","querySelector","getTopRect","nodeId","destory","driver","dirvers","teardown","constructor","engine","driverFactories","dirverFactory","push","getShell"],"mappings":"AAAA,SAAmEA,cAAc,QAAe,kBAAkB;AAElH,OAAO,MAAMC;IAaXC,mBAAiC;QAC/B,OAAO,IAAI,CAACC,WAAW,CAACC,qBAAqB;IAC/C;IAEAC,YAAYC,KAAkB,EAAQ;QACpC,IAAI,CAACH,WAAW,CAACI,MAAM,CAACD;IAC1B;IACAE,SAASF,KAAkB,EAAW;QACpC,OAAO,IAAI,CAACH,WAAW,CAACK,QAAQ,CAACF;IACnC;IACAG,YAAYH,KAAkB,EAAQ;QACpC,IAAG,IAAI,CAACE,QAAQ,CAACF,QAAO;YACrB,IAAI,CAACH,WAAW,CAACM,WAAW,CAACH;QAChC,CAAC;IACH;IACAI,WAAWC,EAAU,EAAsB;QACzC,OAAO,IAAI,CAACR,WAAW,CAACS,aAAa,CAAC,CAAC,CAAC,EAAEZ,eAAe,EAAE,EAAEW,GAAG,EAAE,CAAC;IACrE;IAEAE,WAAWC,MAAc,EAAgB;YAChC;QAAP,OAAO,CAAA,CAAA,mBAAA,IAAI,CAACJ,UAAU,CAACI,qBAAhB,8BAAA,KAAA,IAAA,iBAAyBV,4BAA2B,IAAI;IACjE;IAEAW,UAAgB;QAChB,KAAK,MAAMC,UAAU,IAAI,CAACC,OAAO,CAAE;YAClCD,OAAOE,QAAQ;QAChB;QACA,IAAI,CAACD,OAAO,GAAG,EAAE;IACjB;IAtCAE,YACEC,MAAuB,EACfjB,aACDQ,IACCU,gBACR;2BAHQlB;kBACDQ;+BACCU;aANFJ,UAAqB,EAAE;QAQ/B,KAAK,MAAMK,iBAAiB,IAAI,CAACD,eAAe,CAAE;YACjD,IAAI,CAACJ,OAAO,CAACM,IAAI,CAACD,cAAcF,OAAOI,QAAQ,IAAIrB;QACpD;IACA;AA8BF,CAAC"}