{"version":3,"sources":["../../../../src/reducers/documentsById/document/history.ts"],"sourcesContent":["import { BACKUP } from \"actions/registry\"\r\nimport { BackupPayload, IDocumentAction, ISnapshot } from \"interfaces\"\r\n\r\nexport type State = ISnapshot[]\r\n\r\nexport function history(\r\n  state: State = [],\r\n  action: IDocumentAction<BackupPayload>,\r\n): State {\r\n  const { payload } = action\r\n  switch (action.type) {\r\n    case BACKUP:\r\n      if (payload) {\r\n        return [...state, {\r\n          nodes: payload.nodes,\r\n          selectedIds: payload.selectedIds,\r\n          actionType: payload.actionType,\r\n          createdAt: Date.now()\r\n        }]\r\n      }\r\n      return state\r\n    default:\r\n      return state\r\n  }\r\n}\r\n"],"names":["BACKUP","history","state","action","payload","type","nodes","selectedIds","actionType","createdAt","Date","now"],"mappings":"AAAA,SAASA,MAAM,QAAQ,mBAAkB;AAKzC,OAAO,SAASC,QACdC,QAAe,EAAE,EACjBC,MAAsC,EAC/B;IACP,MAAM,EAAEC,QAAO,EAAE,GAAGD;IACpB,OAAQA,OAAOE,IAAI;QACjB,KAAKL;YACH,IAAII,SAAS;gBACX,OAAO;uBAAIF;oBAAO;wBAChBI,OAAOF,QAAQE,KAAK;wBACpBC,aAAaH,QAAQG,WAAW;wBAChCC,YAAYJ,QAAQI,UAAU;wBAC9BC,WAAWC,KAAKC,GAAG;oBACrB;iBAAE;YACJ,CAAC;YACD,OAAOT;QACT;YACE,OAAOA;IACX;AACF,CAAC"}