{"version":3,"sources":["../../../../src/auxwidgets/toolbar/controls/DeleteButton.ts"],"sourcesContent":["import { IDesignerEngine, ITreeNode } from \"interfaces\";\r\nimport { AbstractButton } from \"./AbstractButton\";\r\n\r\nexport class DeleteButton extends AbstractButton {\r\n  constructor(protected engine: IDesignerEngine) {\r\n    super(\"default.delete-button\", engine)\r\n  }\r\n\r\n  handleRemove = () => {\r\n    const node = this.engine.getMonitor().getCurrentNode()\r\n    if (node) {\r\n      const doc = this.engine.getNodeDocument(node.id)\r\n      if (doc) {\r\n        doc.remove(node.id)\r\n      }\r\n    }\r\n  }\r\n\r\n  onRender(node: ITreeNode): HTMLElement | null {\r\n    const behavior = this.engine.getNodeBehavior(node.id)\r\n    if (!behavior.isDeletable() || node.isSlot) {\r\n      this.teardown()\r\n      return null\r\n    }\r\n    const htmlEl = this.createHtmlElement()\r\n    htmlEl.innerHTML = `\r\n    <svg style=\"width:16px;height:16px\" viewBox=\"0 0 24 24\">\r\n      <path fill=\"currentColor\" d=\"M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19M8,9H16V19H8V9M15.5,4L14.5,3H9.5L8.5,4H5V6H19V4H15.5Z\" />\r\n    </svg>\r\n    `\r\n    htmlEl.addEventListener(\"click\", this.handleRemove)\r\n    return htmlEl\r\n  }\r\n\r\n  teardown(): void {\r\n    if (this.htmlElement) {\r\n      this.htmlElement.removeEventListener(\"click\", this.handleRemove)\r\n    }\r\n    super.teardown()\r\n  }\r\n}"],"names":["AbstractButton","DeleteButton","onRender","node","behavior","engine","getNodeBehavior","id","isDeletable","isSlot","teardown","htmlEl","createHtmlElement","innerHTML","addEventListener","handleRemove","htmlElement","removeEventListener","constructor","getMonitor","getCurrentNode","doc","getNodeDocument","remove"],"mappings":"AACA,SAASA,cAAc,QAAQ,mBAAmB;AAElD,OAAO,MAAMC,qBAAqBD;IAehCE,SAASC,IAAe,EAAsB;QAC5C,MAAMC,WAAW,IAAI,CAACC,MAAM,CAACC,eAAe,CAACH,KAAKI,EAAE;QACpD,IAAI,CAACH,SAASI,WAAW,MAAML,KAAKM,MAAM,EAAE;YAC1C,IAAI,CAACC,QAAQ;YACb,OAAO,IAAI;QACb,CAAC;QACD,MAAMC,SAAS,IAAI,CAACC,iBAAiB;QACrCD,OAAOE,SAAS,GAAG,CAAC;;;;IAIpB,CAAC;QACDF,OAAOG,gBAAgB,CAAC,SAAS,IAAI,CAACC,YAAY;QAClD,OAAOJ;IACT;IAEAD,WAAiB;QACf,IAAI,IAAI,CAACM,WAAW,EAAE;YACpB,IAAI,CAACA,WAAW,CAACC,mBAAmB,CAAC,SAAS,IAAI,CAACF,YAAY;QACjE,CAAC;QACD,KAAK,CAACL,QAAQ;IAChB;IAnCAQ,YAAsBb,OAAyB;QAC7C,KAAK,CAAC,yBAAyBA;sBADXA;aAItBU,eAAe,IAAM;YACnB,MAAMZ,OAAO,IAAI,CAACE,MAAM,CAACc,UAAU,GAAGC,cAAc;YACpD,IAAIjB,MAAM;gBACR,MAAMkB,MAAM,IAAI,CAAChB,MAAM,CAACiB,eAAe,CAACnB,KAAKI,EAAE;gBAC/C,IAAIc,KAAK;oBACPA,IAAIE,MAAM,CAACpB,KAAKI,EAAE;gBACpB,CAAC;YACH,CAAC;QACH;IAVA;AAkCF,CAAC"}